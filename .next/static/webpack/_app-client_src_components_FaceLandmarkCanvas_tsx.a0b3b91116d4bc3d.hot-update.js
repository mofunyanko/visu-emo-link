"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_src_components_FaceLandmarkCanvas_tsx",{

/***/ "(app-client)/./src/components/FaceLandmarkCanvas.tsx":
/*!***********************************************!*\
  !*** ./src/components/FaceLandmarkCanvas.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _DrawLandmarkCanvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DrawLandmarkCanvas */ \"(app-client)/./src/components/DrawLandmarkCanvas.tsx\");\n/* harmony import */ var _AvatarCanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AvatarCanvas */ \"(app-client)/./src/components/AvatarCanvas.tsx\");\n/* harmony import */ var _class_FaceLandmarkManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/class/FaceLandmarkManager */ \"(app-client)/./src/class/FaceLandmarkManager.ts\");\n/* harmony import */ var _ReadyPlayerCreator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ReadyPlayerCreator */ \"(app-client)/./src/components/ReadyPlayerCreator.tsx\");\n/* harmony import */ var _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @vladmandic/face-api */ \"(app-client)/./node_modules/@vladmandic/face-api/dist/face-api.esm.js\");\n/* __next_internal_client_entry_do_not_use__  auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst MODEL_PATH = \"/models\";\nconst FaceLandmarkCanvas = ()=>{\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastVideoTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(-1);\n    const requestRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [avatarView, setAvatarView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showAvatarCreator, setShowAvatarCreator] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modelUrl, setModelUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"https://models.readyplayer.me/6460691aa35b2e5b7106734d.glb?morphTargets=ARKit\");\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const toggleAvatarView = ()=>setAvatarView((prev)=>!prev);\n    const toggleAvatarCreatorView = ()=>setShowAvatarCreator((prev)=>{\n            const emoji = document.getElementById(\"emoji\");\n            if (!prev) {\n                emoji.className = \"emoji hidden\";\n            } else {\n                emoji.className = \"emoji z-40\";\n            }\n            return !prev;\n        });\n    const handleAvatarCreationComplete = (url)=>{\n        setModelUrl(url);\n        toggleAvatarCreatorView();\n    };\n    const setupTensorFlow = async ()=>{\n        // @ts-ignore\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.tf.setBackend(\"webgl\");\n        // @ts-ignore\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.tf.enableProdMode();\n        // @ts-ignore\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.tf.ENV.set(\"DEBUG\", false);\n        // @ts-ignore\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.tf.ready();\n    };\n    const setUpModel = async ()=>{\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.nets.tinyFaceDetector.load(MODEL_PATH);\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.nets.faceLandmark68Net.load(MODEL_PATH);\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.nets.faceRecognitionNet.load(MODEL_PATH);\n        await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.nets.faceExpressionNet.load(MODEL_PATH);\n    };\n    const animate = ()=>{\n        if (videoRef.current && videoRef.current.currentTime !== lastVideoTimeRef.current) {\n            lastVideoTimeRef.current = videoRef.current.currentTime;\n            try {\n                const faceLandmarkManager = _class_FaceLandmarkManager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getInstance();\n                faceLandmarkManager.detectLandmarks(videoRef.current, Date.now());\n            } catch (e) {\n                console.log(e);\n            }\n        }\n        requestRef.current = requestAnimationFrame(animate);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getUserCamera = async ()=>{\n            try {\n                const stream = await navigator.mediaDevices.getUserMedia({\n                    video: true\n                });\n                if (videoRef.current) {\n                    videoRef.current.srcObject = stream;\n                    videoRef.current.onloadedmetadata = ()=>{\n                        setVideoSize({\n                            width: videoRef.current.offsetWidth,\n                            height: videoRef.current.offsetHeight\n                        });\n                        videoRef.current.play();\n                        // Start animation once video is loaded\n                        requestRef.current = requestAnimationFrame(animate);\n                    };\n                }\n            } catch (e) {\n                console.log(e);\n                alert(\"Failed to load webcam!\");\n            }\n        };\n        const setup = async ()=>{\n            await setupTensorFlow();\n            await setUpModel();\n            await getUserCamera();\n        };\n        setup();\n        if (videoRef.current) {\n            const video = videoRef.current;\n            video.addEventListener(\"play\", videoEvent);\n            return ()=>{\n                cancelAnimationFrame(requestRef.current);\n                video.removeEventListener(\"play\", videoEvent);\n            };\n        } else {\n            return ()=>{\n                cancelAnimationFrame(requestRef.current);\n            };\n        }\n    }, []);\n    const videoEvent = ()=>{\n        var _document_getElementById;\n        const video = videoRef.current;\n        const canvas = _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.createCanvasFromMedia(video);\n        canvas.id = \"emoji\";\n        canvas.className = \"emoji z-40\";\n        const parent = (_document_getElementById = document.getElementById(\"video\")) === null || _document_getElementById === void 0 ? void 0 : _document_getElementById.parentNode;\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(canvas);\n        const displaySize = {\n            width: video.offsetWidth,\n            height: video.offsetHeight\n        };\n        _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.matchDimensions(canvas, displaySize);\n        setInterval(async ()=>{\n            const detections = await _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.detectAllFaces(video, new _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n            const resizedDetections = _vladmandic_face_api__WEBPACK_IMPORTED_MODULE_6__.resizeResults(detections, displaySize);\n            resizedDetections.forEach((detection)=>{\n                const emotions = detection.expressions;\n                const dominantEmotion = getDominantEmotion(emotions);\n                const emoji = getEmojiFromEmotion(dominantEmotion);\n                drawEmoji(canvas, emoji);\n            });\n        });\n    };\n    const getDominantEmotion = (expressions)=>{\n        let maxEmotion = \"\";\n        let maxProbability = 0;\n        Object.entries(expressions).forEach((param)=>{\n            let [emotion, probability] = param;\n            if (probability > maxProbability) {\n                maxEmotion = emotion;\n                maxProbability = probability;\n            }\n        });\n        return maxEmotion;\n    };\n    const getEmojiFromEmotion = (emotion)=>{\n        switch(emotion){\n            case \"happy\":\n                return \"\\uD83D\\uDE04\";\n            case \"sad\":\n                return \"\\uD83D\\uDE22\";\n            case \"angry\":\n                return \"\\uD83D\\uDE21\";\n            case \"surprised\":\n                return \"\\uD83D\\uDE33\";\n            case \"fearful\":\n                return \"\\uD83D\\uDE31\";\n            case \"disgusted\":\n                return \"\\uD83D\\uDE29\";\n            case \"neutral\":\n                return \"\\uD83D\\uDE10\";\n            default:\n                return \"\\uD83D\\uDE10\";\n        }\n    };\n    const drawEmoji = (canvas, emoji)=>{\n        const context = canvas.getContext(\"2d\");\n        const fontSize = 150;\n        const margin = 20;\n        context.font = \"\".concat(fontSize, \"px Arial\");\n        context.fillStyle = \"white\";\n        const position = {\n            x: canvas.width - fontSize,\n            y: fontSize + 50\n        };\n        context.fillText(emoji, position.x - margin, position.y + margin);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center gap-10 mt-5 mb-10\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"self-end bg-purple-700 hover:bg-purple-600 transition text-white px-2 py-1 rounded mb-2 shadow-md text-sm sm:text-base\",\n                    onClick: toggleAvatarCreatorView,\n                    children: \"Customize your Avatar!\"\n                }, void 0, false, {\n                    fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                lineNumber: 202,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"relative\",\n                className: \"flex justify-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                        id: \"video\",\n                        className: \"w-9/12 h-auto absolute\",\n                        ref: videoRef,\n                        loop: true,\n                        muted: true,\n                        autoPlay: true,\n                        playsInline: true\n                    }, void 0, false, {\n                        fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 9\n                    }, undefined),\n                    videoSize && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            showAvatarCreator && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ReadyPlayerCreator__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                width: videoSize.width,\n                                height: videoSize.height,\n                                handleComplete: handleAvatarCreationComplete\n                            }, void 0, false, {\n                                fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 15\n                            }, undefined),\n                            avatarView ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AvatarCanvas__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    width: videoSize.width,\n                                    height: videoSize.height,\n                                    url: modelUrl\n                                }, void 0, false, {\n                                    fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                                    lineNumber: 231,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DrawLandmarkCanvas__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                width: videoSize.width,\n                                height: videoSize.height\n                            }, void 0, false, {\n                                fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                                lineNumber: 238,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n                lineNumber: 210,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/iwasakimiho/visu-emo-link/src/components/FaceLandmarkCanvas.tsx\",\n        lineNumber: 201,\n        columnNumber: 5\n    }, undefined);\n};\n_s(FaceLandmarkCanvas, \"FWttaKmk5P7ARFWy0rCt7o2uy0U=\");\n_c = FaceLandmarkCanvas;\n/* harmony default export */ __webpack_exports__[\"default\"] = (FaceLandmarkCanvas);\nvar _c;\n$RefreshReg$(_c, \"FaceLandmarkCanvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vc3JjL2NvbXBvbmVudHMvRmFjZUxhbmRtYXJrQ2FudmFzLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVvRDtBQUNFO0FBQ1o7QUFDb0I7QUFDUjtBQUNQO0FBRS9DLE1BQU1RLGFBQWE7QUFFbkIsTUFBTUMscUJBQXFCLElBQU07O0lBQy9CLE1BQU1DLFdBQVdULDZDQUFNQSxDQUFtQixJQUFJO0lBQzlDLE1BQU1VLG1CQUFtQlYsNkNBQU1BLENBQUMsQ0FBQztJQUNqQyxNQUFNVyxhQUFhWCw2Q0FBTUEsQ0FBQztJQUMxQixNQUFNLENBQUNZLFlBQVlDLGNBQWMsR0FBR1osK0NBQVFBLENBQUMsSUFBSTtJQUNqRCxNQUFNLENBQUNhLG1CQUFtQkMscUJBQXFCLEdBQUdkLCtDQUFRQSxDQUFDLEtBQUs7SUFDaEUsTUFBTSxDQUFDZSxVQUFVQyxZQUFZLEdBQUdoQiwrQ0FBUUEsQ0FDdEM7SUFFRixNQUFNLENBQUNpQixXQUFXQyxhQUFhLEdBQUdsQiwrQ0FBUUE7SUFPMUMsTUFBTW1CLG1CQUFtQixJQUFNUCxjQUFjLENBQUNRLE9BQVMsQ0FBQ0E7SUFDeEQsTUFBTUMsMEJBQTBCLElBQU1QLHFCQUFxQixDQUFDTSxPQUFTO1lBQ25FLE1BQU1FLFFBQVFDLFNBQVNDLGNBQWMsQ0FBQztZQUN0QyxJQUFJLENBQUNKLE1BQU07Z0JBQ1RFLE1BQU9HLFNBQVMsR0FBRztZQUNyQixPQUFPO2dCQUNMSCxNQUFPRyxTQUFTLEdBQUc7WUFDckIsQ0FBQztZQUNELE9BQU8sQ0FBQ0w7UUFDVjtJQUNBLE1BQU1NLCtCQUErQixDQUFDQyxNQUFnQjtRQUNwRFgsWUFBWVc7UUFDWk47SUFDRjtJQUVBLE1BQU1PLGtCQUFrQixVQUFZO1FBQ2xDLGFBQWE7UUFDYixNQUFNdkIsK0RBQXFCLENBQUM7UUFDNUIsYUFBYTtRQUNiLE1BQU1BLG1FQUF5QjtRQUMvQixhQUFhO1FBQ2IsTUFBTUEsNERBQWtCLENBQUMsU0FBUyxLQUFLO1FBQ3ZDLGFBQWE7UUFDYixNQUFNQSwwREFBZ0I7SUFDeEI7SUFFQSxNQUFNOEIsYUFBYSxVQUFZO1FBQzdCLE1BQU05Qiw0RUFBa0MsQ0FBQ0M7UUFDekMsTUFBTUQsNkVBQW1DLENBQUNDO1FBQzFDLE1BQU1ELDhFQUFvQyxDQUFDQztRQUMzQyxNQUFNRCw2RUFBbUMsQ0FBQ0M7SUFDNUM7SUFFQSxNQUFNb0MsVUFBVSxJQUFNO1FBQ3BCLElBQ0VsQyxTQUFTbUMsT0FBTyxJQUNoQm5DLFNBQVNtQyxPQUFPLENBQUNDLFdBQVcsS0FBS25DLGlCQUFpQmtDLE9BQU8sRUFDekQ7WUFDQWxDLGlCQUFpQmtDLE9BQU8sR0FBR25DLFNBQVNtQyxPQUFPLENBQUNDLFdBQVc7WUFDdkQsSUFBSTtnQkFDRixNQUFNQyxzQkFBc0IxQyw4RUFBK0I7Z0JBQzNEMEMsb0JBQW9CRSxlQUFlLENBQUN2QyxTQUFTbUMsT0FBTyxFQUFFSyxLQUFLQyxHQUFHO1lBQ2hFLEVBQUUsT0FBT0MsR0FBRztnQkFDVkMsUUFBUUMsR0FBRyxDQUFDRjtZQUNkO1FBQ0YsQ0FBQztRQUNEeEMsV0FBV2lDLE9BQU8sR0FBR1Usc0JBQXNCWDtJQUM3QztJQUVBNUMsZ0RBQVNBLENBQUUsSUFBTTtRQUNmLE1BQU13RCxnQkFBZ0IsVUFBWTtZQUNoQyxJQUFJO2dCQUNGLE1BQU1DLFNBQVMsTUFBTUMsVUFBVUMsWUFBWSxDQUFDQyxZQUFZLENBQUM7b0JBQ3ZEQyxPQUFPLElBQUk7Z0JBQ2I7Z0JBQ0EsSUFBSW5ELFNBQVNtQyxPQUFPLEVBQUU7b0JBQ3BCbkMsU0FBU21DLE9BQU8sQ0FBQ2lCLFNBQVMsR0FBR0w7b0JBQzdCL0MsU0FBU21DLE9BQU8sQ0FBQ2tCLGdCQUFnQixHQUFHLElBQU07d0JBQ3hDM0MsYUFBYTs0QkFDWDRDLE9BQU90RCxTQUFTbUMsT0FBTyxDQUFFb0IsV0FBVzs0QkFDcENDLFFBQVF4RCxTQUFTbUMsT0FBTyxDQUFFc0IsWUFBWTt3QkFDeEM7d0JBQ0F6RCxTQUFTbUMsT0FBTyxDQUFFdUIsSUFBSTt3QkFFdEIsdUNBQXVDO3dCQUN2Q3hELFdBQVdpQyxPQUFPLEdBQUdVLHNCQUFzQlg7b0JBQzdDO2dCQUNGLENBQUM7WUFDSCxFQUFFLE9BQU9RLEdBQUc7Z0JBQ1ZDLFFBQVFDLEdBQUcsQ0FBQ0Y7Z0JBQ1ppQixNQUFNO1lBQ1I7UUFDRjtRQUVBLE1BQU1DLFFBQVEsVUFBWTtZQUN4QixNQUFNeEM7WUFDTixNQUFNTztZQUNOLE1BQU1tQjtRQUNSO1FBRUFjO1FBQ0EsSUFBSTVELFNBQVNtQyxPQUFPLEVBQUU7WUFDcEIsTUFBTWdCLFFBQVFuRCxTQUFTbUMsT0FBTztZQUM5QmdCLE1BQU1VLGdCQUFnQixDQUFDLFFBQVFDO1lBQy9CLE9BQU8sSUFBTTtnQkFDWEMscUJBQXFCN0QsV0FBV2lDLE9BQU87Z0JBQ3ZDZ0IsTUFBTWEsbUJBQW1CLENBQUMsUUFBUUY7WUFDcEM7UUFDRixPQUFPO1lBQ0wsT0FBTyxJQUFNO2dCQUNYQyxxQkFBcUI3RCxXQUFXaUMsT0FBTztZQUN6QztRQUNGLENBQUM7SUFDSCxHQUFHLEVBQUU7SUFFTCxNQUFNMkIsYUFBYSxJQUFNO1lBS1IvQztRQUpmLE1BQU1vQyxRQUFRbkQsU0FBU21DLE9BQU87UUFDOUIsTUFBTThCLFNBQVNwRSx1RUFBNkIsQ0FBQ3NEO1FBQzdDYyxPQUFPRSxFQUFFLEdBQUc7UUFDWkYsT0FBT2hELFNBQVMsR0FBRztRQUNuQixNQUFNbUQsU0FBU3JELENBQUFBLDJCQUFBQSxTQUFTQyxjQUFjLENBQUMsc0JBQXhCRCxzQ0FBQUEsS0FBQUEsSUFBQUEseUJBQWtDc0QsVUFBVTtRQUMzREQsbUJBQUFBLG9CQUFBQSxLQUFBQSxJQUFBQSxPQUFRRSxXQUFXLENBQUNMO1FBQ3BCLE1BQU1NLGNBQWM7WUFBRWpCLE9BQU9ILE1BQU1JLFdBQVc7WUFBRUMsUUFBUUwsTUFBTU0sWUFBWTtRQUFDO1FBQzNFNUQsaUVBQXVCLENBQUNvRSxRQUFRTTtRQUVoQ0UsWUFBWSxVQUFZO1lBQ3RCLE1BQU1DLGFBQWEsTUFBTTdFLGdFQUNSLENBQUNzRCxPQUFPLElBQUl0RCx5RUFBK0IsSUFDekRnRixpQkFBaUIsR0FDakJDLG1CQUFtQjtZQUV0QixNQUFNQyxvQkFBb0JsRiwrREFBcUIsQ0FBQzZFLFlBQVlIO1lBRTVEUSxrQkFBa0JFLE9BQU8sQ0FBQyxDQUFDQyxZQUVJO2dCQUM3QixNQUFNQyxXQUFvQ0QsVUFBVUUsV0FBVztnQkFDL0QsTUFBTUMsa0JBQTBCQyxtQkFBbUJIO2dCQUNuRCxNQUFNckUsUUFBUXlFLG9CQUFvQkY7Z0JBRWxDRyxVQUFVdkIsUUFBUW5EO1lBQ3BCO1FBQ0Y7SUFDRjtJQUdBLE1BQU13RSxxQkFBcUIsQ0FBQ0YsY0FBaUQ7UUFDM0UsSUFBSUssYUFBYTtRQUNqQixJQUFJQyxpQkFBaUI7UUFFckJDLE9BQU9DLE9BQU8sQ0FBQ1IsYUFBYUgsT0FBTyxDQUFDLFNBQTRCO2dCQUEzQixDQUFDWSxTQUFTQyxZQUFZO1lBQ3pELElBQUlBLGNBQWNKLGdCQUFnQjtnQkFDaENELGFBQWFJO2dCQUNiSCxpQkFBaUJJO1lBQ25CLENBQUM7UUFDSDtRQUNBLE9BQU9MO0lBQ1Q7SUFFQSxNQUFNRixzQkFBc0IsQ0FBQ00sVUFBNEI7UUFDdkQsT0FBUUE7WUFDTixLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87WUFDVDtnQkFDRSxPQUFPO1FBQ1g7SUFDRjtJQUVBLE1BQU1MLFlBQVksQ0FBQ3ZCLFFBQTJCbkQsUUFBa0I7UUFDOUQsTUFBTWlGLFVBQVU5QixPQUFPK0IsVUFBVSxDQUFDO1FBQ2xDLE1BQU1DLFdBQVc7UUFDakIsTUFBTUMsU0FBUztRQUVmSCxRQUFRSSxJQUFJLEdBQUcsR0FBWSxPQUFURixVQUFTO1FBQzNCRixRQUFRSyxTQUFTLEdBQUc7UUFFcEIsTUFBTUMsV0FBVztZQUFFQyxHQUFHckMsT0FBT1gsS0FBSyxHQUFHMkM7WUFBVU0sR0FBR04sV0FBVztRQUFHO1FBQ2hFRixRQUFRUyxRQUFRLENBQUMxRixPQUFPdUYsU0FBU0MsQ0FBQyxHQUFHSixRQUFRRyxTQUFTRSxDQUFDLEdBQUdMO0lBQzVEO0lBRUEscUJBQ0UsOERBQUNPO1FBQUl4RixXQUFVOzswQkFDYiw4REFBQ3dGO2dCQUFJeEYsV0FBVTswQkFDYiw0RUFBQ3lGO29CQUNDekYsV0FBVTtvQkFDVjBGLFNBQVM5Rjs4QkFFUjs7Ozs7Ozs7Ozs7MEJBR0wsOERBQUM0RjtnQkFBSXRDLElBQUc7Z0JBQVdsRCxXQUFVOztrQ0FDM0IsOERBQUNrQzt3QkFDQ2dCLElBQUc7d0JBQ0hsRCxXQUFVO3dCQUNWMkYsS0FBSzVHO3dCQUNMNkcsTUFBTSxJQUFJO3dCQUNWQyxPQUFPLElBQUk7d0JBQ1hDLFVBQVUsSUFBSTt3QkFDZEMsYUFBYSxJQUFJOzs7Ozs7b0JBRWxCdkcsMkJBQ0M7OzRCQUNHSixtQ0FDQyw4REFBQ1QsMkRBQWtCQTtnQ0FDakIwRCxPQUFPN0MsVUFBVTZDLEtBQUs7Z0NBQ3RCRSxRQUFRL0MsVUFBVStDLE1BQU07Z0NBQ3hCeUQsZ0JBQWdCL0Y7Ozs7Ozs0QkFHbkJmLDJCQUNDOzBDQUNFLDRFQUFDVCxxREFBWUE7b0NBQ1g0RCxPQUFPN0MsVUFBVTZDLEtBQUs7b0NBQ3RCRSxRQUFRL0MsVUFBVStDLE1BQU07b0NBQ3hCckMsS0FBS1o7Ozs7Ozs4REFJVCw4REFBQ2QsMkRBQWtCQTtnQ0FDakI2RCxPQUFPN0MsVUFBVTZDLEtBQUs7Z0NBQ3RCRSxRQUFRL0MsVUFBVStDLE1BQU07Ozs7O3lDQUUzQjs7Ozs7Ozs7Ozs7Ozs7O0FBTWI7R0E1T016RDtLQUFBQTtBQThPTiwrREFBZUEsa0JBQWtCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0ZhY2VMYW5kbWFya0NhbnZhcy50c3g/NTViYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgRHJhd0xhbmRtYXJrQ2FudmFzIGZyb20gXCIuL0RyYXdMYW5kbWFya0NhbnZhc1wiO1xuaW1wb3J0IEF2YXRhckNhbnZhcyBmcm9tIFwiLi9BdmF0YXJDYW52YXNcIjtcbmltcG9ydCBGYWNlTGFuZG1hcmtNYW5hZ2VyIGZyb20gXCJAL2NsYXNzL0ZhY2VMYW5kbWFya01hbmFnZXJcIjtcbmltcG9ydCBSZWFkeVBsYXllckNyZWF0b3IgZnJvbSBcIi4vUmVhZHlQbGF5ZXJDcmVhdG9yXCI7XG5pbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gJ0B2bGFkbWFuZGljL2ZhY2UtYXBpJ1xuXG5jb25zdCBNT0RFTF9QQVRIID0gJy9tb2RlbHMnXG5cbmNvbnN0IEZhY2VMYW5kbWFya0NhbnZhcyA9ICgpID0+IHtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGxhc3RWaWRlb1RpbWVSZWYgPSB1c2VSZWYoLTEpO1xuICBjb25zdCByZXF1ZXN0UmVmID0gdXNlUmVmKDApO1xuICBjb25zdCBbYXZhdGFyVmlldywgc2V0QXZhdGFyVmlld10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dBdmF0YXJDcmVhdG9yLCBzZXRTaG93QXZhdGFyQ3JlYXRvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttb2RlbFVybCwgc2V0TW9kZWxVcmxdID0gdXNlU3RhdGUoXG4gICAgXCJodHRwczovL21vZGVscy5yZWFkeXBsYXllci5tZS82NDYwNjkxYWEzNWIyZTViNzEwNjczNGQuZ2xiP21vcnBoVGFyZ2V0cz1BUktpdFwiXG4gICk7XG4gIGNvbnN0IFt2aWRlb1NpemUsIHNldFZpZGVvU2l6ZV0gPSB1c2VTdGF0ZTx7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgfT4oKTtcblxuXG5cbiAgY29uc3QgdG9nZ2xlQXZhdGFyVmlldyA9ICgpID0+IHNldEF2YXRhclZpZXcoKHByZXYpID0+ICFwcmV2KTtcbiAgY29uc3QgdG9nZ2xlQXZhdGFyQ3JlYXRvclZpZXcgPSAoKSA9PiBzZXRTaG93QXZhdGFyQ3JlYXRvcigocHJldikgPT4ge1xuICAgIGNvbnN0IGVtb2ppID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbW9qaVwiKTtcbiAgICBpZiAoIXByZXYpIHtcbiAgICAgIGVtb2ppIS5jbGFzc05hbWUgPSBcImVtb2ppIGhpZGRlblwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGVtb2ppIS5jbGFzc05hbWUgPSBcImVtb2ppIHotNDBcIlxuICAgIH1cbiAgICByZXR1cm4gIXByZXZcbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUF2YXRhckNyZWF0aW9uQ29tcGxldGUgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgICBzZXRNb2RlbFVybCh1cmwpO1xuICAgIHRvZ2dsZUF2YXRhckNyZWF0b3JWaWV3KCk7XG4gIH07XG5cbiAgY29uc3Qgc2V0dXBUZW5zb3JGbG93ID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBhd2FpdCBmYWNlYXBpLnRmLnNldEJhY2tlbmQoJ3dlYmdsJyk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGF3YWl0IGZhY2VhcGkudGYuZW5hYmxlUHJvZE1vZGUoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYXdhaXQgZmFjZWFwaS50Zi5FTlYuc2V0KCdERUJVRycsIGZhbHNlKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYXdhaXQgZmFjZWFwaS50Zi5yZWFkeSgpO1xuICB9XG5cbiAgY29uc3Qgc2V0VXBNb2RlbCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYWNlYXBpLm5ldHMudGlueUZhY2VEZXRlY3Rvci5sb2FkKE1PREVMX1BBVEgpXG4gICAgYXdhaXQgZmFjZWFwaS5uZXRzLmZhY2VMYW5kbWFyazY4TmV0LmxvYWQoTU9ERUxfUEFUSClcbiAgICBhd2FpdCBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWQoTU9ERUxfUEFUSClcbiAgICBhd2FpdCBmYWNlYXBpLm5ldHMuZmFjZUV4cHJlc3Npb25OZXQubG9hZChNT0RFTF9QQVRIKVxuICB9XG5cbiAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICBpZiAoXG4gICAgICB2aWRlb1JlZi5jdXJyZW50ICYmXG4gICAgICB2aWRlb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lICE9PSBsYXN0VmlkZW9UaW1lUmVmLmN1cnJlbnRcbiAgICApIHtcbiAgICAgIGxhc3RWaWRlb1RpbWVSZWYuY3VycmVudCA9IHZpZGVvUmVmLmN1cnJlbnQuY3VycmVudFRpbWU7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmYWNlTGFuZG1hcmtNYW5hZ2VyID0gRmFjZUxhbmRtYXJrTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICBmYWNlTGFuZG1hcmtNYW5hZ2VyLmRldGVjdExhbmRtYXJrcyh2aWRlb1JlZi5jdXJyZW50LCBEYXRlLm5vdygpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlcXVlc3RSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcbiAgICBjb25zdCBnZXRVc2VyQ2FtZXJhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb1NpemUoe1xuICAgICAgICAgICAgICB3aWR0aDogdmlkZW9SZWYuY3VycmVudCEub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlkZW9SZWYuY3VycmVudCEub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50IS5wbGF5KCk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBvbmNlIHZpZGVvIGlzIGxvYWRlZFxuICAgICAgICAgICAgcmVxdWVzdFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIGxvYWQgd2ViY2FtIVwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dXAgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXR1cFRlbnNvckZsb3coKVxuICAgICAgYXdhaXQgc2V0VXBNb2RlbCgpXG4gICAgICBhd2FpdCBnZXRVc2VyQ2FtZXJhKClcbiAgICB9XG5cbiAgICBzZXR1cCgpXG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsIHZpZGVvRXZlbnQpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0UmVmLmN1cnJlbnQpO1xuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheVwiLCB2aWRlb0V2ZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxdWVzdFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCB2aWRlb0V2ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgY29uc3QgY2FudmFzID0gZmFjZWFwaS5jcmVhdGVDYW52YXNGcm9tTWVkaWEodmlkZW8pO1xuICAgIGNhbnZhcy5pZCA9IFwiZW1vamlcIlxuICAgIGNhbnZhcy5jbGFzc05hbWUgPSBcImVtb2ppIHotNDBcIlxuICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlkZW9cIik/LnBhcmVudE5vZGU7XG4gICAgcGFyZW50Py5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgY29uc3QgZGlzcGxheVNpemUgPSB7IHdpZHRoOiB2aWRlby5vZmZzZXRXaWR0aCwgaGVpZ2h0OiB2aWRlby5vZmZzZXRIZWlnaHQgfVxuICAgIGZhY2VhcGkubWF0Y2hEaW1lbnNpb25zKGNhbnZhcywgZGlzcGxheVNpemUpO1xuXG4gICAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGV0ZWN0aW9ucyA9IGF3YWl0IGZhY2VhcGlcbiAgICAgICAgLmRldGVjdEFsbEZhY2VzKHZpZGVvLCBuZXcgZmFjZWFwaS5UaW55RmFjZURldGVjdG9yT3B0aW9ucygpKVxuICAgICAgICAud2l0aEZhY2VMYW5kbWFya3MoKVxuICAgICAgICAud2l0aEZhY2VFeHByZXNzaW9ucygpO1xuXG4gICAgICBjb25zdCByZXNpemVkRGV0ZWN0aW9ucyA9IGZhY2VhcGkucmVzaXplUmVzdWx0cyhkZXRlY3Rpb25zLCBkaXNwbGF5U2l6ZSk7XG5cbiAgICAgIHJlc2l6ZWREZXRlY3Rpb25zLmZvckVhY2goKGRldGVjdGlvbjogZmFjZWFwaS5XaXRoRmFjZUV4cHJlc3Npb25zPGZhY2VhcGkuV2l0aEZhY2VMYW5kbWFya3M8e1xuICAgICAgICBkZXRlY3Rpb246IGZhY2VhcGkuRmFjZURldGVjdGlvbjtcbiAgICB9LCBmYWNlYXBpLkZhY2VMYW5kbWFya3M2OD4+KSA9PiB7XG4gICAgICAgIGNvbnN0IGVtb3Rpb25zOiBmYWNlYXBpLkZhY2VFeHByZXNzaW9ucyA9IGRldGVjdGlvbi5leHByZXNzaW9ucztcbiAgICAgICAgY29uc3QgZG9taW5hbnRFbW90aW9uOiBzdHJpbmcgPSBnZXREb21pbmFudEVtb3Rpb24oZW1vdGlvbnMpO1xuICAgICAgICBjb25zdCBlbW9qaSA9IGdldEVtb2ppRnJvbUVtb3Rpb24oZG9taW5hbnRFbW90aW9uKTtcblxuICAgICAgICBkcmF3RW1vamkoY2FudmFzLCBlbW9qaSk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuXG4gIGNvbnN0IGdldERvbWluYW50RW1vdGlvbiA9IChleHByZXNzaW9uczogZmFjZWFwaS5GYWNlRXhwcmVzc2lvbnMpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBtYXhFbW90aW9uID0gXCJcIlxuICAgIGxldCBtYXhQcm9iYWJpbGl0eSA9IDA7XG5cbiAgICBPYmplY3QuZW50cmllcyhleHByZXNzaW9ucykuZm9yRWFjaCgoW2Vtb3Rpb24sIHByb2JhYmlsaXR5XSkgPT4ge1xuICAgICAgaWYgKHByb2JhYmlsaXR5ID4gbWF4UHJvYmFiaWxpdHkpIHtcbiAgICAgICAgbWF4RW1vdGlvbiA9IGVtb3Rpb247XG4gICAgICAgIG1heFByb2JhYmlsaXR5ID0gcHJvYmFiaWxpdHk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1heEVtb3Rpb247XG4gIH1cblxuICBjb25zdCBnZXRFbW9qaUZyb21FbW90aW9uID0gKGVtb3Rpb246IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoIChlbW90aW9uKSB7XG4gICAgICBjYXNlIFwiaGFwcHlcIjpcbiAgICAgICAgcmV0dXJuIFwi8J+YhFwiO1xuICAgICAgY2FzZSBcInNhZFwiOlxuICAgICAgICByZXR1cm4gXCLwn5iiXCI7XG4gICAgICBjYXNlIFwiYW5ncnlcIjpcbiAgICAgICAgcmV0dXJuIFwi8J+YoVwiO1xuICAgICAgY2FzZSBcInN1cnByaXNlZFwiOlxuICAgICAgICByZXR1cm4gXCLwn5izXCI7XG4gICAgICBjYXNlIFwiZmVhcmZ1bFwiOlxuICAgICAgICByZXR1cm4gXCLwn5ixXCI7XG4gICAgICBjYXNlIFwiZGlzZ3VzdGVkXCI6XG4gICAgICAgIHJldHVybiBcIvCfmKlcIjtcbiAgICAgIGNhc2UgXCJuZXV0cmFsXCI6XG4gICAgICAgIHJldHVybiBcIvCfmJBcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIvCfmJBcIjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBkcmF3RW1vamkgPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZW1vamk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBjb25zdCBmb250U2l6ZSA9IDE1MDtcbiAgICBjb25zdCBtYXJnaW4gPSAyMDtcblxuICAgIGNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4IEFyaWFsYFxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuXG4gICAgY29uc3QgcG9zaXRpb24gPSB7IHg6IGNhbnZhcy53aWR0aCAtIGZvbnRTaXplLCB5OiBmb250U2l6ZSArIDUwIH07XG4gICAgY29udGV4dC5maWxsVGV4dChlbW9qaSwgcG9zaXRpb24ueCAtIG1hcmdpbiwgcG9zaXRpb24ueSArIG1hcmdpbik7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMTAgbXQtNSBtYi0xMFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2VsZi1lbmQgYmctcHVycGxlLTcwMCBob3ZlcjpiZy1wdXJwbGUtNjAwIHRyYW5zaXRpb24gdGV4dC13aGl0ZSBweC0yIHB5LTEgcm91bmRlZCBtYi0yIHNoYWRvdy1tZCB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlQXZhdGFyQ3JlYXRvclZpZXd9XG4gICAgICAgID5cbiAgICAgICAgICB7XCJDdXN0b21pemUgeW91ciBBdmF0YXIhXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVsYXRpdmVcIiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDx2aWRlb1xuICAgICAgICAgIGlkPVwidmlkZW9cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInctOS8xMiBoLWF1dG8gYWJzb2x1dGVcIlxuICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgbG9vcD17dHJ1ZX1cbiAgICAgICAgICBtdXRlZD17dHJ1ZX1cbiAgICAgICAgICBhdXRvUGxheT17dHJ1ZX1cbiAgICAgICAgICBwbGF5c0lubGluZT17dHJ1ZX1cbiAgICAgICAgPjwvdmlkZW8+XG4gICAgICAgIHt2aWRlb1NpemUgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7c2hvd0F2YXRhckNyZWF0b3IgJiYgKFxuICAgICAgICAgICAgICA8UmVhZHlQbGF5ZXJDcmVhdG9yXG4gICAgICAgICAgICAgICAgd2lkdGg9e3ZpZGVvU2l6ZS53aWR0aH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9e3ZpZGVvU2l6ZS5oZWlnaHR9XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29tcGxldGU9e2hhbmRsZUF2YXRhckNyZWF0aW9uQ29tcGxldGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2F2YXRhclZpZXcgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEF2YXRhckNhbnZhc1xuICAgICAgICAgICAgICAgICAgd2lkdGg9e3ZpZGVvU2l6ZS53aWR0aH1cbiAgICAgICAgICAgICAgICAgIGhlaWdodD17dmlkZW9TaXplLmhlaWdodH1cbiAgICAgICAgICAgICAgICAgIHVybD17bW9kZWxVcmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8RHJhd0xhbmRtYXJrQ2FudmFzXG4gICAgICAgICAgICAgICAgd2lkdGg9e3ZpZGVvU2l6ZS53aWR0aH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9e3ZpZGVvU2l6ZS5oZWlnaHR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGYWNlTGFuZG1hcmtDYW52YXM7XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJEcmF3TGFuZG1hcmtDYW52YXMiLCJBdmF0YXJDYW52YXMiLCJGYWNlTGFuZG1hcmtNYW5hZ2VyIiwiUmVhZHlQbGF5ZXJDcmVhdG9yIiwiZmFjZWFwaSIsIk1PREVMX1BBVEgiLCJGYWNlTGFuZG1hcmtDYW52YXMiLCJ2aWRlb1JlZiIsImxhc3RWaWRlb1RpbWVSZWYiLCJyZXF1ZXN0UmVmIiwiYXZhdGFyVmlldyIsInNldEF2YXRhclZpZXciLCJzaG93QXZhdGFyQ3JlYXRvciIsInNldFNob3dBdmF0YXJDcmVhdG9yIiwibW9kZWxVcmwiLCJzZXRNb2RlbFVybCIsInZpZGVvU2l6ZSIsInNldFZpZGVvU2l6ZSIsInRvZ2dsZUF2YXRhclZpZXciLCJwcmV2IiwidG9nZ2xlQXZhdGFyQ3JlYXRvclZpZXciLCJlbW9qaSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc05hbWUiLCJoYW5kbGVBdmF0YXJDcmVhdGlvbkNvbXBsZXRlIiwidXJsIiwic2V0dXBUZW5zb3JGbG93IiwidGYiLCJzZXRCYWNrZW5kIiwiZW5hYmxlUHJvZE1vZGUiLCJFTlYiLCJzZXQiLCJyZWFkeSIsInNldFVwTW9kZWwiLCJuZXRzIiwidGlueUZhY2VEZXRlY3RvciIsImxvYWQiLCJmYWNlTGFuZG1hcms2OE5ldCIsImZhY2VSZWNvZ25pdGlvbk5ldCIsImZhY2VFeHByZXNzaW9uTmV0IiwiYW5pbWF0ZSIsImN1cnJlbnQiLCJjdXJyZW50VGltZSIsImZhY2VMYW5kbWFya01hbmFnZXIiLCJnZXRJbnN0YW5jZSIsImRldGVjdExhbmRtYXJrcyIsIkRhdGUiLCJub3ciLCJlIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldFVzZXJDYW1lcmEiLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsInNyY09iamVjdCIsIm9ubG9hZGVkbWV0YWRhdGEiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwicGxheSIsImFsZXJ0Iiwic2V0dXAiLCJhZGRFdmVudExpc3RlbmVyIiwidmlkZW9FdmVudCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbnZhcyIsImNyZWF0ZUNhbnZhc0Zyb21NZWRpYSIsImlkIiwicGFyZW50IiwicGFyZW50Tm9kZSIsImFwcGVuZENoaWxkIiwiZGlzcGxheVNpemUiLCJtYXRjaERpbWVuc2lvbnMiLCJzZXRJbnRlcnZhbCIsImRldGVjdGlvbnMiLCJkZXRlY3RBbGxGYWNlcyIsIlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zIiwid2l0aEZhY2VMYW5kbWFya3MiLCJ3aXRoRmFjZUV4cHJlc3Npb25zIiwicmVzaXplZERldGVjdGlvbnMiLCJyZXNpemVSZXN1bHRzIiwiZm9yRWFjaCIsImRldGVjdGlvbiIsImVtb3Rpb25zIiwiZXhwcmVzc2lvbnMiLCJkb21pbmFudEVtb3Rpb24iLCJnZXREb21pbmFudEVtb3Rpb24iLCJnZXRFbW9qaUZyb21FbW90aW9uIiwiZHJhd0Vtb2ppIiwibWF4RW1vdGlvbiIsIm1heFByb2JhYmlsaXR5IiwiT2JqZWN0IiwiZW50cmllcyIsImVtb3Rpb24iLCJwcm9iYWJpbGl0eSIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiZm9udFNpemUiLCJtYXJnaW4iLCJmb250IiwiZmlsbFN0eWxlIiwicG9zaXRpb24iLCJ4IiwieSIsImZpbGxUZXh0IiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsInJlZiIsImxvb3AiLCJtdXRlZCIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJoYW5kbGVDb21wbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-client)/./src/components/FaceLandmarkCanvas.tsx\n"));

/***/ })

});